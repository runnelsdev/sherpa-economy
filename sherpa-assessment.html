<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Your Inner Sherpa - Leadership Assessment</title>
    
    <!-- Favicon and App Icons -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#e67e22">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Sherpa Economy">
    
    <!-- Stripe -->
    <script src="https://js.stripe.com/v3/"></script>
    <link rel="stylesheet" href="payment-styles.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #1a3a52;
            --accent: #e67e22;
            --success: #27ae60;
            --light: #f8f9fa;
            --dark: #2c3e50;
            --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background: var(--light);
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        /* Header */
        .header {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeInDown 0.8s ease;
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .header h1 {
            color: var(--primary);
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .header p {
            color: #666;
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Progress Bar */
        .progress-container {
            background: white;
            border-radius: 50px;
            padding: 4px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .progress-bar {
            height: 30px;
            background: var(--gradient);
            border-radius: 50px;
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        /* Assessment Card */
        .assessment-card {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            animation: fadeInUp 0.8s ease;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Start Screen */
        .start-screen {
            text-align: center;
        }
        
        .start-screen h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 2rem;
        }
        
        .start-screen p {
            color: #666;
            margin-bottom: 2rem;
            line-height: 1.8;
        }
        
        .benefits {
            text-align: left;
            background: var(--light);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        
        .benefits h3 {
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .benefits ul {
            list-style: none;
        }
        
        .benefits li {
            padding: 0.5rem 0;
            padding-left: 2rem;
            position: relative;
        }
        
        .benefits li:before {
            content: "üèîÔ∏è";
            position: absolute;
            left: 0;
        }
        
        /* Question Screen */
        .question-screen {
            display: none;
        }
        
        .question-number {
            color: var(--accent);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 1rem;
        }
        
        .question-text {
            font-size: 1.4rem;
            color: var(--primary);
            margin-bottom: 2rem;
            line-height: 1.4;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .option {
            padding: 1.2rem;
            background: var(--light);
            border: 2px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .option:hover {
            border-color: var(--accent);
            transform: translateX(10px);
            box-shadow: 0 5px 20px rgba(230, 126, 34, 0.2);
        }
        
        .option.selected {
            background: var(--gradient);
            color: white;
            border-color: transparent;
        }
        
        .option-letter {
            font-weight: 700;
            color: var(--accent);
            margin-right: 0.5rem;
        }
        
        .option.selected .option-letter {
            color: white;
        }
        
        /* Results Screen */
        .results-screen {
            display: none;
            animation: fadeIn 1s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .sherpa-type {
            background: var(--gradient);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .sherpa-type h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .sherpa-type-name {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        
        .characteristics {
            background: var(--light);
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        
        .characteristics h3 {
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .characteristics ul {
            list-style: none;
        }
        
        .characteristics li {
            padding: 0.5rem 0;
            padding-left: 2rem;
            position: relative;
            color: #666;
        }
        
        .characteristics li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: bold;
        }
        
        .score-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .score-item {
            background: white;
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .score-label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.5rem;
        }
        
        .score-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .score-bar {
            height: 8px;
            background: var(--light);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 0.5rem;
        }
        
        .score-fill {
            height: 100%;
            background: var(--gradient);
            border-radius: 4px;
            transition: width 1s ease;
        }
        
        /* Buttons */
        .btn {
            padding: 1rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-block;
            cursor: pointer;
            border: none;
            font-size: 1rem;
            background: var(--accent);
            color: white;
        }
        
        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(230, 126, 34, 0.3);
        }
        
        .btn-container {
            text-align: center;
            margin-top: 2rem;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-secondary:hover {
            background: var(--primary);
            color: white;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* CTA Section */
        .cta-section {
            background: var(--gradient);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            margin-top: 2rem;
        }
        
        .cta-section h3 {
            margin-bottom: 1rem;
        }
        
        .cta-section p {
            margin-bottom: 1.5rem;
            opacity: 0.9;
        }
        
        /* Navigation */
        .nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(26, 58, 82, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 1rem 0;
            transition: all 0.3s ease;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .nav-brand {
            color: white;
            font-size: 1.2rem;
            font-weight: 700;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }
        
        /* Hide desktop navigation on mobile/tablet */
        @media (max-width: 1024px) {
            .nav-links {
                display: none !important;
            }
        }

        .nav-links a {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--accent);
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            transition: color 0.3s ease;
        }

        .menu-toggle:hover {
            color: var(--accent);
        }
            cursor: pointer;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .menu-toggle {
                display: block !important;
                position: relative;
                z-index: 1001;
                background: rgba(26, 58, 82, 0.95);
                border: 2px solid rgba(255, 255, 255, 0.3);
                border-radius: 6px;
                min-width: 48px;
                min-height: 48px;
                font-size: 1.8rem;
                font-weight: bold;
            }

            .nav-links {
                display: none !important;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: rgba(26, 58, 82, 0.98);
                backdrop-filter: blur(10px);
                flex-direction: column;
                padding: 1rem 0;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
                border-top: 1px solid rgba(255, 255, 255, 0.1);
                z-index: 1000;
            }

            .nav-links.active {
                display: flex !important;
            }

            .nav-links li {
                width: 100%;
                text-align: center;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .nav-links li:last-child {
                border-bottom: none;
            }

            .nav-links a {
                display: block;
                padding: 1rem 2rem;
                color: rgba(255, 255, 255, 0.9);
                text-decoration: none;
                transition: all 0.3s ease;
            }

            .nav-links a:hover,
            .nav-links a.active {
                color: var(--accent);
                background: rgba(230, 126, 34, 0.1);
            }
            .container {
                padding: 1rem;
            }
            
            .assessment-card {
                padding: 1.5rem;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="sherpa-economy-landing.html" class="nav-brand">Sherpa Economy</a>
            <button class="menu-toggle">‚ò∞</button>
            <ul class="nav-links" id="navLinks">
                <li><a href="sherpa-economy-landing.html">Home</a></li>
                <li><a href="foundations-course.html">Foundations Course</a></li>
                <li><a href="speaking.html">Speaking</a></li>
                <li><a href="consulting.html">Consulting</a></li>
                <li><a href="faith-based.html">Faith-Based</a></li>
                <li><a href="sherpa-assessment.html" class="active">Assessment</a></li>
                <li><a href="mailto:info@sherpaeconomy.com">Contact</a></li>
            </ul>
        </div>
    </nav>

    <div class="container" style="padding-top: 80px;">
        <div class="header">
            <h1>üèîÔ∏è Find Your Inner Sherpa</h1>
            <p>Discover your unique guidance style and learn how to lead others through their challenges</p>
            <div style="background: var(--light); padding: 1.5rem; border-radius: 10px; margin: 2rem 0; text-align: left;">
                <p style="font-size: 0.95rem; line-height: 1.6; color: #666; margin-bottom: 1rem;">
                    <strong>A Note on the Word Sherpa:</strong> The Sherpa are an indigenous people of Nepal with a history, language, and spiritual tradition that extends far beyond mountaineering. This assessment uses Sherpa as a metaphor ‚Äî a symbol of service, resilience, humility, and community.
                </p>
                <p style="font-size: 0.95rem; line-height: 1.6; color: #666; margin: 0;">
                    We honor the spirit of guidance that Sherpas embody while respecting their full identity and heritage beyond the narrow Western understanding of "guide."
                </p>
            </div>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progressBar">
                <span id="progressText">Ready to Begin</span>
            </div>
        </div>
        
        <div class="assessment-card">
            <!-- Start Screen -->
            <div class="start-screen" id="startScreen">
                <h2>Your Journey to Becoming a Guide</h2>
                <p>This 10-question assessment will help you identify your natural Sherpa leadership style and discover how your unique experiences can serve as a roadmap for others.</p>
                
                <div class="benefits">
                    <h3>What You'll Discover:</h3>
                    <ul>
                        <li>Your primary Sherpa leadership type</li>
                        <li>Your strongest guidance qualities</li>
                        <li>How your scars can become someone else's roadmap</li>
                        <li>Practical next steps for developing your guide abilities</li>
                    </ul>
                </div>
                
                <p style="color: #666; font-style: italic;">This assessment takes approximately 5 minutes to complete.</p>
                
                <div class="btn-container">
                    <button class="btn" onclick="startAssessment()">Begin Assessment</button>
                </div>
            </div>
            
            <!-- Question Screen -->
            <div class="question-screen" id="questionScreen">
                <div class="question-number" id="questionNumber">Question 1 of 10</div>
                <h2 class="question-text" id="questionText"></h2>
                <div class="options" id="options"></div>
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousQuestion()" id="prevBtn">Previous</button>
                    <button class="btn" onclick="nextQuestion()" id="nextBtn" disabled>Next</button>
                </div>
            </div>
            
            <!-- Results Screen -->
            <div class="results-screen" id="resultsScreen">
                <div class="sherpa-type">
                    <h2>Your Sherpa Type:</h2>
                    <div class="sherpa-type-name" id="sherpaType"></div>
                    <p id="sherpaDescription"></p>
                </div>
                
                <div class="score-breakdown" id="scoreBreakdown"></div>
                
                <div class="characteristics">
                    <h3>Your Strengths as a Guide:</h3>
                    <ul id="strengthsList"></ul>
                </div>
                
                <div class="characteristics">
                    <h3>How Your Scars Become Roadmaps:</h3>
                    <ul id="scarsList"></ul>
                </div>
                
                <div class="characteristics">
                    <h3>Your Next Steps:</h3>
                    <ul id="nextStepsList"></ul>
                </div>
                
                <div class="assessment-payment">
                    <h3>Get Your Detailed Leadership Report</h3>
                    <p>Upgrade to receive a comprehensive 15-page personalized report with specific action steps, development resources, and a customized leadership development plan based on your assessment results.</p>
                    <div class="price-display">Detailed Report: $49.99</div>
                    <button class="payment-button" onclick="showAssessmentPayment()">Get Detailed Report</button>
                </div>
                
                <div class="btn-container">
                    <button class="btn btn-secondary" onclick="retakeAssessment()">Retake Assessment</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const questions = [
            {
                text: "When someone comes to you with a problem, your first instinct is to:",
                options: [
                    { text: "Share a similar experience you've had", type: "wisdom" },
                    { text: "Help them break it down into manageable steps", type: "pathfinder" },
                    { text: "Listen deeply and help them find their own answer", type: "companion" },
                    { text: "Connect them with resources or people who can help", type: "connector" }
                ]
            },
            {
                text: "Your greatest strength in helping others is:",
                options: [
                    { text: "Learning from failures and sharing those lessons", type: "wisdom" },
                    { text: "Seeing patterns and creating clear roadmaps", type: "pathfinder" },
                    { text: "Being present during difficult moments", type: "companion" },
                    { text: "Building bridges between people and opportunities", type: "connector" }
                ]
            },
            {
                text: "People most often seek you out because:",
                options: [
                    { text: "You've been through what they're facing", type: "wisdom" },
                    { text: "You can see the path when they can't", type: "pathfinder" },
                    { text: "You make them feel heard and understood", type: "companion" },
                    { text: "You know everyone and how to navigate systems", type: "connector" }
                ]
            },
            {
                text: "Your approach to leadership is best described as:",
                options: [
                    { text: "Teaching through storytelling and experience", type: "wisdom" },
                    { text: "Creating systems and processes that work", type: "pathfinder" },
                    { text: "Walking alongside others through challenges", type: "companion" },
                    { text: "Facilitating connections and collaboration", type: "connector" }
                ]
            },
            {
                text: "When facing uncertainty, you tend to:",
                options: [
                    { text: "Draw on past experiences to find wisdom", type: "wisdom" },
                    { text: "Map out possible scenarios and paths", type: "pathfinder" },
                    { text: "Focus on supporting those affected", type: "companion" },
                    { text: "Leverage your network for insights", type: "connector" }
                ]
            },
            {
                text: "Your most valuable contribution to a team is:",
                options: [
                    { text: "Institutional knowledge and hard-won insights", type: "wisdom" },
                    { text: "Strategic thinking and planning abilities", type: "pathfinder" },
                    { text: "Emotional intelligence and support", type: "companion" },
                    { text: "Relationship building and networking", type: "connector" }
                ]
            },
            {
                text: "You measure your success by:",
                options: [
                    { text: "How many people learn from your experiences", type: "wisdom" },
                    { text: "How effectively you help others reach their goals", type: "pathfinder" },
                    { text: "The depth of trust in your relationships", type: "companion" },
                    { text: "The connections and opportunities you create", type: "connector" }
                ]
            },
            {
                text: "In a crisis, others look to you to:",
                options: [
                    { text: "Share wisdom from similar situations", type: "wisdom" },
                    { text: "Create an action plan", type: "pathfinder" },
                    { text: "Provide emotional support and presence", type: "companion" },
                    { text: "Mobilize resources and people", type: "connector" }
                ]
            },
            {
                text: "Your ideal role in an organization is:",
                options: [
                    { text: "Mentor or advisor", type: "wisdom" },
                    { text: "Strategist or consultant", type: "pathfinder" },
                    { text: "Coach or counselor", type: "companion" },
                    { text: "Liaison or partnership builder", type: "connector" }
                ]
            },
            {
                text: "You believe the best way to help someone grow is to:",
                options: [
                    { text: "Share your scars and what they taught you", type: "wisdom" },
                    { text: "Help them see the path ahead clearly", type: "pathfinder" },
                    { text: "Be fully present in their journey", type: "companion" },
                    { text: "Connect them with the right people and resources", type: "connector" }
                ]
            }
        ];
        
        const sherpaTypes = {
            wisdom: {
                name: "The Wisdom Keeper",
                description: "You guide others through the power of lived experience and hard-won insights.",
                strengths: [
                    "Deep reservoir of experiential knowledge",
                    "Ability to see patterns across situations",
                    "Natural storyteller who teaches through narrative",
                    "Transforms personal struggles into universal lessons"
                ],
                scars: [
                    "Your failures become teaching moments for others",
                    "Your recovery stories inspire hope in difficult times",
                    "Your mistakes help others avoid similar pitfalls",
                    "Your journey through darkness lights the path for others"
                ],
                nextSteps: [
                    "Document your key life lessons in a journal or blog",
                    "Identify 3 recurring challenges you've overcome that others face",
                    "Practice telling your story in a way that serves others",
                    "Consider formal mentoring or coaching certification"
                ]
            },
            pathfinder: {
                name: "The Pathfinder",
                description: "You excel at seeing the route forward when others feel lost in complexity.",
                strengths: [
                    "Strategic thinking and systems perspective",
                    "Breaking complex challenges into manageable steps",
                    "Creating roadmaps and frameworks for success",
                    "Helping others see possibilities they missed"
                ],
                scars: [
                    "Your navigation through complexity helps others find clarity",
                    "Your problem-solving struggles teach systematic thinking",
                    "Your strategic mistakes become valuable case studies",
                    "Your pivots and course corrections guide others' decisions"
                ],
                nextSteps: [
                    "Develop a signature framework based on your approach",
                    "Create visual maps or guides for common challenges",
                    "Practice simplifying complex ideas for others",
                    "Build assessment tools to help others find their path"
                ]
            },
            companion: {
                name: "The Companion",
                description: "Your gift is walking alongside others with presence, empathy, and unwavering support.",
                strengths: [
                    "Deep emotional intelligence and empathy",
                    "Creating safe spaces for vulnerability",
                    "Holding space for others' growth and healing",
                    "Consistent presence through ups and downs"
                ],
                scars: [
                    "Your emotional journey helps others process their own",
                    "Your vulnerability gives others permission to be human",
                    "Your healing process becomes a model for recovery",
                    "Your presence in pain teaches the power of accompaniment"
                ],
                nextSteps: [
                    "Develop active listening and presence practices",
                    "Learn techniques for holding space effectively",
                    "Practice maintaining boundaries while staying present",
                    "Explore training in coaching or counseling methodologies"
                ]
            },
            connector: {
                name: "The Connector",
                description: "You guide by weaving networks and building bridges between people and possibilities.",
                strengths: [
                    "Extensive network and relationship capital",
                    "Seeing connections others miss",
                    "Facilitating powerful introductions and collaborations",
                    "Understanding systems and how to navigate them"
                ],
                scars: [
                    "Your networking struggles teach relationship building",
                    "Your collaboration failures improve team dynamics",
                    "Your system navigation helps others find shortcuts",
                    "Your bridge-building experiences create new pathways"
                ],
                nextSteps: [
                    "Map your network and identify connection opportunities",
                    "Develop a system for meaningful introductions",
                    "Practice facilitating group connections and collaborations",
                    "Create resources that help others navigate systems"
                ]
            }
        };
        
        let currentQuestion = 0;
        let answers = [];
        let scores = {
            wisdom: 0,
            pathfinder: 0,
            companion: 0,
            connector: 0
        };
        
        function startAssessment() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('questionScreen').style.display = 'block';
            showQuestion();
        }
        
        function showQuestion() {
            const question = questions[currentQuestion];
            document.getElementById('questionNumber').textContent = `Question ${currentQuestion + 1} of ${questions.length}`;
            document.getElementById('questionText').textContent = question.text;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.innerHTML = `<span class="option-letter">${String.fromCharCode(65 + index)}.</span> ${option.text}`;
                optionDiv.onclick = () => selectOption(index);
                
                if (answers[currentQuestion] === index) {
                    optionDiv.classList.add('selected');
                }
                
                optionsContainer.appendChild(optionDiv);
            });
            
            updateProgress();
            updateNavigation();
        }
        
        function selectOption(index) {
            answers[currentQuestion] = index;
            document.querySelectorAll('.option').forEach((opt, i) => {
                opt.classList.toggle('selected', i === index);
            });
            document.getElementById('nextBtn').disabled = false;
        }
        
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion();
            } else {
                calculateResults();
            }
        }
        
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }
        
        function updateNavigation() {
            document.getElementById('prevBtn').style.display = currentQuestion === 0 ? 'none' : 'block';
            document.getElementById('nextBtn').textContent = currentQuestion === questions.length - 1 ? 'Get Results' : 'Next';
            document.getElementById('nextBtn').disabled = answers[currentQuestion] === undefined;
        }
        
        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = `${Math.round(progress)}% Complete`;
        }
        
        function calculateResults() {
            // Reset scores
            Object.keys(scores).forEach(key => scores[key] = 0);
            
            // Calculate scores
            answers.forEach((answerIndex, questionIndex) => {
                const selectedOption = questions[questionIndex].options[answerIndex];
                scores[selectedOption.type]++;
            });
            
            // Find dominant type
            const dominantType = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
            
            showResults(dominantType);
        }
        
        function showResults(dominantType) {
            document.getElementById('questionScreen').style.display = 'none';
            document.getElementById('resultsScreen').style.display = 'block';
            
            const result = sherpaTypes[dominantType];
            document.getElementById('sherpaType').textContent = result.name;
            document.getElementById('sherpaDescription').textContent = result.description;
            
            // Show score breakdown
            const scoreBreakdown = document.getElementById('scoreBreakdown');
            scoreBreakdown.innerHTML = '';
            
            Object.keys(scores).forEach(type => {
                const percentage = (scores[type] / questions.length) * 100;
                const scoreItem = document.createElement('div');
                scoreItem.className = 'score-item';
                scoreItem.innerHTML = `
                    <div class="score-label">${sherpaTypes[type].name.split(' ')[1]}</div>
                    <div class="score-value">${Math.round(percentage)}%</div>
                    <div class="score-bar">
                        <div class="score-fill" style="width: ${percentage}%"></div>
                    </div>
                `;
                scoreBreakdown.appendChild(scoreItem);
            });
            
            // Populate lists
            populateList('strengthsList', result.strengths);
            populateList('scarsList', result.scars);
            populateList('nextStepsList', result.nextSteps);
            
            // Update progress bar
            document.getElementById('progressBar').style.width = '100%';
            document.getElementById('progressText').textContent = 'Assessment Complete!';
        }
        
        function populateList(listId, items) {
            const list = document.getElementById(listId);
            list.innerHTML = '';
            items.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                list.appendChild(li);
            });
        }
        
        function retakeAssessment() {
            currentQuestion = 0;
            answers = [];
            Object.keys(scores).forEach(key => scores[key] = 0);
            
            document.getElementById('resultsScreen').style.display = 'none';
            document.getElementById('startScreen').style.display = 'block';
            
            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('progressText').textContent = 'Ready to Begin';
        }

        // Assessment payment function
        function showAssessmentPayment() {
            // Get current assessment results
            const dominantType = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
            const assessmentData = {
                sherpaType: dominantType,
                scores: scores,
                answers: answers
            };

            const productInfo = {
                name: 'Sherpa Leadership Assessment Report',
                title: 'Get Your Detailed Report',
                description: 'Receive a comprehensive 15-page personalized leadership report with specific action steps, development resources, and a customized plan.',
                price: 4999 // $49.99 in cents
            };
            
            window.PaymentComponents.showPaymentModal('assessment', productInfo);
        }

        // Mobile menu toggle
        function toggleMenu() {
            const navLinks = document.getElementById('navLinks');
            const menuToggle = document.querySelector('.menu-toggle');
            
            navLinks.classList.toggle('active');
            
            // Change hamburger to X when menu is open
            if (navLinks.classList.contains('active')) {
                menuToggle.innerHTML = '‚úï';
            } else {
                menuToggle.innerHTML = '‚ò∞';
            }
        }

        // Close mobile menu when clicking on a link
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                const navLinks = document.getElementById('navLinks');
                const menuToggle = document.querySelector('.menu-toggle');
                
                navLinks.classList.remove('active');
                menuToggle.innerHTML = '‚ò∞';
            });
        });
    </script>
    
    <!-- Load Stripe configuration and payment components -->
    <script src="stripe-config.js"></script>
    <script src="payment-components.js"></script>
</body>
</html>